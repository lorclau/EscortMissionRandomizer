<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Escort Mission Role Randomizer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="header">
  <h2>Escort Mission Role Randomizer</h2>
  <!-- Help Button -->
  <button id="helpBtn" class="help-btn" title="Instructions">?</button>
  </div>
  
  <div class="controls">
  <input
    type="text"
    id="playerInput"
    placeholder="Enter player name"
  />
  <button id="addPlayerBtn">Add Player</button>
  <button id="randomizeTeamsBtn">Randomize Participants</button>
  <button id="swapTeamsBtn">Swap Teams</button>
  <button id="assignRolesBtn">Assign Roles</button>

  <!-- OPTIONS DROPDOWN -->
  <div class="options-wrapper">
    <button id="optionsToggleBtn" class="options-toggle">
      Options ▾
    </button>

    <div id="optionsDropdown" class="options-dropdown hidden">
      <label>
        <input type="checkbox" id="categoryOnlyCheckbox">
        Assign Categories Only
      </label>

      <label>
        <input type="checkbox" id="noDoubleHealerCheckbox">
        No Double Healer
      </label>

      <label>
        <input type="checkbox" id="noForgeCheckbox">
        No Forge (DPS)
      </label>

      <label>
        <input type="checkbox" id="noPaladinCheckbox">
        No Paladin (Healer)
      </label>

      <label>
        <input type="checkbox" id="identicalTeamsCheckbox">
        Identical Team Comp
      </label>
    </div>
  </div>
 </div>

  <div class="container">
  <div class="column" id="participants">
    <h3>Participants</h3>
    <div class="dropzone" id="participantsDrop"></div>
  </div>
  
  <div class="column" id="attackers">
    <h3>Attackers</h3>
    <div class="dropzone" id="attackersDrop"></div>
  </div>

  <div class="column" id="defenders">
    <h3>Defenders</h3>
    <div class="dropzone" id="defendersDrop"></div>
    <div class="remix-copy-bar">
  <button id="remixTeamsBtn" class="primary-btn">Remix Teams</button>

    <div class="copy-buttons">
      <button id="copyAttackersBtn" class="copy-btn">Copy A</button>
      <button id="copyDefendersBtn" class="copy-btn">Copy D</button>
      <button id="copyBtn" class="copy-btn">Copy ALL</button>
    </div>
  </div>
  </div>
</div> <!-- END container -->

  <!-- ================= FOOTER SECTION ================= -->
  <hr class="footer-divider">

  <footer class="app-footer">

    <p><strong>Escort Mission Randomizer</strong> • Version 1.0.0 • Last Updated: February 2026</p>

    <p>
      This is a individually maintained project. Updates will be released when available and may not align with official game (Escort Mission) updates.
    </p>

    <p><strong>Upcoming / Planned Updates:</strong></p>

    <ul class="footer-list">
      <li>UI improvements</li>
      <li>Mobile layout refinements</li>
      <li>Additional Roles (Swiftwind, Merc, Chem)</li>
    </ul>

    <p><em>(Planned features are subject to change.)</em></p>

    <p>
      <strong>Disclaimer:</strong> This project is an independent fan-made tool. 
      It is not affiliated with, endorsed by, or associated with HoYoverse, Genshin Impact, or the creator(s) of Escort Mission / Miliastra Wonderland. 
      All game-related names, assets, and trademarks are the property of their respective owners.
    </p>

    <p>
      Report bugs or suggestions:
      <a href="https://forms.gle/SL3TJX44S9EjoEVXA" target="_blank">Feedback Form</a>
    </p>

  </footer>
  <!-- ================================================== -->

<!-- Help Modal -->
<div id="helpModal" class="modal hidden">
  <div class="modal-content">
    <button class="modal-close" id="closeHelpBtn">✖</button>
    <h2>Instructions</h2>
    
    <p>Follow these steps to manage your teams:</p>

    <ul class="instructions-list">
      <li><span class="instr-btn">Add Players</span> – Press ENTER or [Add Players] to add players to Participants list.</li>
      <li><span class="instr-btn">Drag & Drop</span> – Freely drag and drop players into Participants/Attackers/Defenders.</li>
      <li><span class="instr-btn">Lock Players</span> – Lock a player to prevent them from moving during Randomize, Remix, or Swap. This allows you to keep certain players on opposite teams.</li>
      <li><span class="instr-btn">Randomize Participants</span> – Shuffles all participants into teams randomly.</li>
      <li><span class="instr-btn">Assign Roles</span> – Randomly assigns roles to players in each team.</li>
      <li><span class="instr-btn">Swap Teams</span> – Swaps Attackers and Defenders.</li>
      <li><span class="instr-btn">Remix Teams</span> – Re-shuffles players already in Attackers/Defenders, keeping any role assignments.</li>
      <li>
        <span class="instr-btn">Copy Options</span>
        <div class="inner-list">
          <div>Copy ALL – Copies both Attackers and Defenders to your clipboard (roles included).</div>
          <div>Copy A – Copies only the Attackers team (including roles).</div>
          <div>Copy D – Copies only the Defenders team (including roles).</div>
        </div>
      </li>
    </ul>


    <p>Checkbox options:</p>
    <ul class="instructions-list">
      <li><span class="instr-btn">Assign Categories Only</span> – Assigns only the category (DPS, Healer, Tank, Assassin) instead of specific roles.</li>
      <li><span class="instr-btn">No Double Healer</span> – Prevents more than one Healer per team.</li>
      <li><span class="instr-btn">No Forge (DPS)</span> – The DPS role of "Forge" will not be assigned to any players.</li>
      <li><span class="instr-btn">No Paladin (Healer)</span> – The Healer role of "Paladin" will not be assigned to any players.</li>
      <li><span class="instr-btn">Identical Team Comp</span> – Makes both teams have the same role composition.</li>
    </ul>

    <p>Tip: Click outside the box or press ESC to close the instructions.</p>
  </div>
</div>

  <script src="src/script.js"></script>
</body>
</html>
